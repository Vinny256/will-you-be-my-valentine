<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Please Say Yes? ü•∫</title>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
body { background-color: #ffdeeb; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; margin: 0; font-family: sans-serif; overflow: hidden; touch-action: none; }
#timer { color: #e91e63; font-weight: bold; margin-bottom: 10px; font-size: 0.9rem; background: white; padding: 5px 15px; border-radius: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
#card { background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: center; width: 85%; max-width: 350px; z-index: 10; }
img { width: 100%; max-width: 180px; border-radius: 15px; margin-bottom: 10px; }
h1 { color: #e91e63; font-size: 1.3rem; margin: 10px 0; }
#persuasion { color: #666; font-size: 0.85rem; font-style: italic; min-height: 45px; display: flex; align-items: center; justify-content: center; padding: 0 10px; }
.buttons { display: flex; justify-content: center; align-items: center; gap: 10px; margin-top: 15px; min-height: 120px; }
button { padding: 12px 20px; font-size: 1rem; font-weight: bold; border: none; border-radius: 50px; cursor: pointer; transition: transform 0.1s; }
#yesBtn { background: #4caf50; color: white; z-index: 1000; }
#noBtn { background: #f44336; color: white; position: relative; }
#waBtn { background: #25D366; color: white; display: none; margin-top: 20px; text-decoration: none; padding: 15px; border-radius: 50px; font-weight: bold; cursor: pointer; }
</style>
</head>
<body>
<div id="timer">Loading timer...</div>
<div id="card">
<img id="gif" src="giphy.gif">
<h1 id="question">Will you be my Valentine?</h1>
<p id="persuasion">I have something to ask you...</p>
<div class="buttons" id="mainButtons">
<button id="yesBtn">Yes!</button>
<button id="noBtn">No</button>
</div>
<div id="waBtn">Let Vinnie Know! üì≤</div>
</div>
<audio id="pleaseSound" src="PLEASE SPEED I NEED THIS Sound Effect(MP3_160K).mp3"></audio>
<audio id="successSound" src="https://www.myinstants.com/media/sounds/tada.mp3"></audio>
<script>
const params = new URLSearchParams(window.location.search);
const code = params.get('code');
let her = "Special Someone", him = "Vinnie", phone = "";
if (code) {
try {
const decoded = JSON.parse(atob(code));
her = decoded.to; him = decoded.from; phone = decoded.tel || "";
} catch(e) { console.error("Code error"); }
} else {
window.location.href = "index.html";
}
function updateTimer() {
const now = new Date().getTime();
const target = new Date("Feb 14, 2026 00:00:00").getTime();
const diff = target - now;
if (diff < 0) { document.getElementById("timer").innerText = "It's Valentine's Day! ‚ù§Ô∏è"; return; }
const d = Math.floor(diff / (1000 * 60 * 60 * 24));
const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
const s = Math.floor((diff % (1000 * 60)) / 1000);
document.getElementById("timer").innerText = d + "d " + h + "h " + m + "m " + s + "s until Valentine's üåπ";
}
setInterval(updateTimer, 1000);
updateTimer();
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const waBtn = document.getElementById("waBtn");
const msg = document.getElementById("persuasion");
const audio = document.getElementById("pleaseSound");
let scale = 1, count = 0;
const pityList = [
"Are you sure? ü•∫", "Really sure? üåπ", "Think again! ‚ú®", "Please? ü•∫", 
"I'll be so sad... üò¢", "Pretty please? üçí", "Don't break my heart! üíî",
"I'll buy you chocolate! üç´", "I'll be your best Valentine! üåà",
"I'm on my knees! üôá‚Äç‚ôÇÔ∏è", "I'll make you coffee! ‚òï", "Just one 'Yes'? ‚òùÔ∏è",
"I'll give you my last fry! üçü", "You're the only one! ‚ù§Ô∏è", 
"Is there a 0.1% chance? üî¢", "I'll wait forever... ‚è≥", "Please have mercy! ‚õ™",
"Just click the green one! üü¢", "I'm running out of words! üòÇ", "Wait, don't go! üèÉ‚Äç‚ôÇÔ∏è",
"I practiced this for days! üé§", "Look at the cat, it's sad too! üê±", "Don't be mean! üò†",
"I'll do your laundry! üß∫", "I'll cook for you! üç≥", "I'll let you pick the movie! üé¨",
"I'll be the best ever! üèÜ", "You're my favorite! üåü", "I'm shivering! üò∞",
"My heart is beating fast! üíì", "Is it my hair? üíá‚Äç‚ôÇÔ∏è", "Is it my jokes? ü§°",
"I'll stop making dad jokes! üôä", "Embu is cold without you! üèîÔ∏è", "I'll give you a massage! üíÜ‚Äç‚ôÄÔ∏è",
"I'll take you on dates! üïØÔ∏è", "You're tough to get! üòé", "I like a challenge! ü•ä",
"Don't leave me on read! üí¨", "I'm almost at 50 dodges! üìà", "The Yes button is so big! ‚ú®",
"Click it for Vinnie Digital! üöÄ", "I'll be your tech support! üíª", "Just one chance? ü•∫",
"I promise to make you happy! ü•∞", "Almost there... üèÅ", "Say yes already! üòÇ", 
"Fine, I'll ask again! üîÑ", "Just do it! ‚úîÔ∏è", "You know you want to! üòè"
];
function move() {
audio.currentTime = 0;
audio.play().catch(function() {});
const yesRect = yesBtn.getBoundingClientRect();
let x, y, over;
do {
x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
over = (x > yesRect.left - 50 && x < yesRect.right + 50 && y > yesRect.top - 50 && y < yesRect.bottom + 50);
} while (over);
noBtn.style.position = "fixed";
noBtn.style.left = x + "px";
noBtn.style.top = y + "px";
if(count < pityList.length) msg.innerText = pityList[count++];
scale += 0.35;
yesBtn.style.transform = "scale(" + scale + ")";
}
noBtn.addEventListener("touchstart", function(e) { e.preventDefault(); move(); });
noBtn.addEventListener("mouseover", move);
yesBtn.addEventListener("click", function() {
document.getElementById("successSound").play();
confetti({ particleCount: 200, spread: 80 });
document.getElementById("question").innerText = "Yay! See you on the 14th! ‚ù§Ô∏è";
document.getElementById("gif").src = "giphy (1).gif";
document.getElementById("mainButtons").style.display = "none";
waBtn.style.display = "block";
msg.innerText = "Best decision ever! üòç";
});
waBtn.addEventListener("click", function() {
if (phone.trim() !== "") {
const waMsg = encodeURIComponent("Hi " + him + "! I just clicked YES on your Valentine page! ‚ù§Ô∏è");
window.location.href = "https://wa.me/" + phone + "?text=" + waMsg;
} else {
alert("Seems like " + him + " is unreachable via our network. If you would like to confirm to him, text him back through your means of communication.");
}
});
</script>
</body>
</html>
    </div>

    <audio id="pleaseSound" src="PLEASE SPEED I NEED THIS Sound Effect(MP3_160K).mp3"></audio>
    <audio id="successSound" src="https://www.myinstants.com/media/sounds/tada.mp3"></audio>

    <script>
        const params = new URLSearchParams(window.location.search);
        const code = params.get('code');
        let her = "Special Someone", him = "Vinnie", phone = "";

        if (code) {
            try {
                const decoded = JSON.parse(atob(code));
                her = decoded.to; him = decoded.from; phone = decoded.tel || "";
            } catch(e) { console.error("Link error"); }
        }

        // COUNTDOWN TIMER
        function updateTimer() {
            const now = new Date().getTime();
            const target = new Date("Feb 14, 2026 00:00:00").getTime();
            const diff = target - now;
            if (diff < 0) { document.getElementById("timer").innerText = "It's Valentine's Day! ‚ù§Ô∏è"; return; }
            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);
            document.getElementById("timer").innerText = `${d}d ${h}h ${m}m ${s}s until Valentine's üåπ`;
        }
        setInterval(updateTimer, 1000);
        updateTimer();

        const noBtn = document.getElementById("noBtn");
        const yesBtn = document.getElementById("yesBtn");
        const waBtn = document.getElementById("waBtn");
        const msg = document.getElementById("persuasion");
        const audio = document.getElementById("pleaseSound");
        let scale = 1, count = 0;
        
        const pityList = [
            "Are you sure? ü•∫", "Really sure? üåπ", "Think again! ‚ú®", "Please? ü•∫", 
            "I'll be so sad... üò¢", "Pretty please? üçí", "Don't break my heart! üíî",
            "I'll buy you chocolate! üç´", "I'll be your best Valentine! üåà",
            "I'm on my knees! üôá‚Äç‚ôÇÔ∏è", "I'll make you coffee! ‚òï", "Just one 'Yes'? ‚òùÔ∏è",
            "I'll give you my last fry! üçü", "You're the only one! ‚ù§Ô∏è", 
            "Is there a 0.1% chance? üî¢", "I'll wait forever... ‚è≥", "Please have mercy! ‚õ™",
            "Just click the green one! üü¢", "I'm running out of words! üòÇ", "Wait, don't go! üèÉ‚Äç‚ôÇÔ∏è",
            "I practiced this for days! üé§", "Look at the cat, it's sad too! üê±", "Don't be mean! üò†",
            "I'll do your laundry! üß∫", "I'll cook for you! üç≥", "I'll let you pick the movie! üé¨",
            "I'll be the best boyfriend ever! üèÜ", "You're my favorite! üåü", "I'm shivering! üò∞",
            "My heart is literally beating so fast! üíì", "Is it my hair? üíá‚Äç‚ôÇÔ∏è", "Is it my jokes? ü§°",
            "I'll stop making dad jokes! üôä", "Embu is cold without you! üèîÔ∏è", "I'll give you a massage! üíÜ‚Äç‚ôÄÔ∏è",
            "I'll take you to the best dates! üïØÔ∏è", "You're tough to get! üòé", "I like a challenge! ü•ä",
            "Don't leave me on read IRL! üí¨", "I'm almost at 50 dodges! üìà", "The Yes button is so big now! ‚ú®",
            "Click it for Vinnie Digital Hub! üöÄ", "I'll be your tech support! üíª", "Just one chance? ü•∫",
            "I promise to make you happy! ü•∞", "Almost there... üèÅ", "Say yes already! üòÇ", 
            "Fine, I'll ask again! üîÑ", "Just do it! ‚úîÔ∏è", "You know you want to! üòè"
        ];

        function move() {
            audio.currentTime = 0;
            audio.play().catch(() => {});
            
            const yesRect = yesBtn.getBoundingClientRect();
            let x, y, isOverYes;

            // SMART DODGE: Ensure No button never lands on Yes button
            do {
                x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
                y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
                isOverYes = (x > yesRect.left - 20 && x < yesRect.right + 20 && y > yesRect.top - 20 && y < yesRect.bottom + 20);
            } while (isOverYes);

            noBtn.style.position = "fixed";
            noBtn.style.left = x + "px";
            noBtn.style.top = y + "px";
            
            if(count < pityList.length) msg.innerText = pityList[count++];
            scale += 0.35;
            yesBtn.style.transform = `scale(${scale})`;
        }

        noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); move(); });
        noBtn.addEventListener("mouseover", move);

        yesBtn.addEventListener("click", () => {
            document.getElementById("successSound").play();
            confetti({ particleCount: 200, spread: 80 });
            document.getElementById("question").innerText = `Yay! See you on the 14th! ‚ù§Ô∏è`;
            document.getElementById("gif").src = "giphy (1).gif";
            document.getElementById("mainButtons").style.display = "none";
            waBtn.style.display = "block";
            msg.innerText = "Best decision ever! üòç";
        });

        waBtn.addEventListener("click", () => {
            if (phone.trim() !== "") {
                const waMsg = encodeURIComponent(`Hi ${him}! I just clicked YES on your Valentine page! ‚ù§Ô∏è`);
                window.location.href = `https://wa.me/${phone}?text=${waMsg}`;
            } else {
                alert(`Seems like ${him} is unreachable via our network. If you would like to confirm to him, text him back through your means of communication.`);
            }
        });
        const params = new URLSearchParams(window.location.search);
        const code = params.get('code');
        let her = "Special Someone", him = "Vinnie";

        if (code) {
            try {
                const decoded = JSON.parse(atob(code));
                her = decoded.to; him = decoded.from;
                document.getElementById('header').innerText = `Hi ${her}, ${him} is asking...`;
            } catch(e) { console.error("Link error"); }
        }

        const noBtn = document.getElementById("noBtn");
        const yesBtn = document.getElementById("yesBtn");
        const msg = document.getElementById("persuasion");
        const audio = document.getElementById("pleaseSound");
        let scale = 1, count = 0;
        
        const pityList = [
            "Are you sure? ü•∫", "Really sure? üåπ", "Think again! ‚ú®", "Please? ü•∫", 
            "I'll be so sad... üò¢", "Pretty please? üçí", "Don't break my heart! üíî",
            "I'll buy you chocolate! üç´", "I'll be your best Valentine! üåà",
            "I'm on my knees! üôá‚Äç‚ôÇÔ∏è", "I'll make you coffee! ‚òï", "Just one 'Yes'? ‚òùÔ∏è",
            "I'll give you my last fry! üçü", "You're the only one! ‚ù§Ô∏è", 
            "Is there a 0.1% chance? üî¢", "I'll wait forever... ‚è≥", "Please have mercy! ‚õ™",
            "Just click the green one! üü¢", "I'm running out of words! üòÇ",
            "Say Yes for Vinnie Digital Hub! üöÄ"
        ]; // Added 20 for brevity, you can add more to this array!

        function move() {
            audio.currentTime = 0;
            audio.play().catch(() => {});
            const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
            const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
            noBtn.style.position = "fixed";
            noBtn.style.left = x + "px";
            noBtn.style.top = y + "px";
            if(count < pityList.length) msg.innerText = pityList[count++];
            scale += 0.3;
            yesBtn.style.transform = `scale(${scale})`;
        }

        noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); move(); });
        noBtn.addEventListener("mouseover", move);

        yesBtn.addEventListener("click", () => {
            document.getElementById("successSound").play();
            confetti({ particleCount: 200, spread: 80 });
            document.getElementById("question").innerText = `Yay! See you on the 14th! ‚ù§Ô∏è`;
            document.getElementById("gif").src = "giphy (1).gif";
            noBtn.style.display = "none";
            yesBtn.style.transform = "scale(1)";
        });
    </script>
</body>
</html>
